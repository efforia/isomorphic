"use strict";webpackJsonp([20],{375:function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0});var a=e(0),r=(e(1),e(22),e(174)),i=e(113),l=e(112),s=e(50),u=e(41),c=e(197),o=e(37),h=e(114),_=this&&this.__awaiter||function(i,l,s,u){return new(s||(s=Promise))(function(n,t){function e(n){try{r(u.next(n))}catch(n){t(n)}}function a(n){try{r(u.throw(n))}catch(n){t(n)}}function r(t){t.done?n(t.value):new s(function(n){n(t.value)}).then(e,a)}r((u=u.apply(i,l||[])).next())})},f=this&&this.__generator||function(e,a){var r,i,l,n,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return n={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(l=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(l=l.call(i,t[1])).done)return l;switch(i=0,l&&(t=[0,l.value]),t[0]){case 0:case 1:l=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(l=0<(l=s.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){s.label=t[1];break}if(6===t[0]&&s.label<l[1]){s.label=l[1],l=t;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(t);break}l[2]&&s.ops.pop(),s.trys.pop();continue}t=a.call(e,s)}catch(n){t=[6,n],i=0}finally{r=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}},p=function(){function n(n,t,e,a,r,i,l,s){this.viewCtrl=n,this.navParams=t,this.zone=e,this.changeDetector=a,this.authHandler=r,this.translate=i,this.globals=l,this.interactionService=s,this.roles=["ADMIN","MERCHANT","CUSTOMER"],this.user=this.navParams.data.user,this.token=this.authHandler.getAccessToken()}return n.prototype.saveRole=function(e){return _(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return[4,(t=this).interactionService.spinner({content:this.translate.instant("loading")})];case 1:t.spinner=n.sent(),n.label=2;case 2:return n.trys.push([2,4,5,6]),[4,c.a.changeUserRole({id:e._id,role:e.roles,xAccessToken:this.token})];case 3:return n.sent(),[3,6];case 4:return n.sent(),this.interactionService.alert(this.translate.instant("server_failure")),[3,6];case 5:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 6:return[2]}})})},n.prototype.deactivate=function(e){return _(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return[4,(t=this).interactionService.spinner({content:this.translate.instant("loading")})];case 1:t.spinner=n.sent(),n.label=2;case 2:return n.trys.push([2,4,5,6]),[4,c.a.deactivateUserAsAdmin({id:e._id,xAccessToken:this.token})];case 3:return n.sent(),[3,6];case 4:return n.sent(),this.interactionService.alert(this.translate.instant("server_failure")),[3,6];case 5:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 6:return[2]}})})},n.prototype.activate=function(e){return _(this,void 0,void 0,function(){var t;return f(this,function(n){switch(n.label){case 0:return[4,(t=this).interactionService.spinner({content:this.translate.instant("loading")})];case 1:t.spinner=n.sent(),n.label=2;case 2:return n.trys.push([2,4,5,6]),[4,c.a.activateUserAsAdmin({id:e._id,xAccessToken:this.token})];case 3:return n.sent(),[3,6];case 4:return n.sent(),this.interactionService.alert(this.translate.instant("server_failure")),[3,6];case 5:return this.spinner.dismiss(),this.changeDetector.detectChanges(),this.close(),[7];case 6:return[2]}})})},n.prototype.close=function(n){this.viewCtrl.dismiss(n)},n}(),d=function(){return function(){}}(),v=e(181),b=e(182),k=e(183),m=e(184),g=e(185),y=e(186),w=e(187),A=e(188),S=e(189),x=e(305),M=e(198),C=e(23),T=e(19),j=e(2),D=e(57),I=e(84),U=e(7),P=e(6),R=e(16),E=a._10({encapsulation:2,styles:[],data:{}});function H(n){return a._31(0,[(n()(),a._12(0,0,null,null,7,"button",[["class","item item-block"],["ion-item",""],["popover-item",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var a=!0,r=n.component;"click"===t&&(a=!1!==r.deactivate(r.user)&&a);return a},M.b,M.a)),a._11(1,1097728,null,3,C.a,[T.a,j.a,a.k,a.B,[2,D.a]],null,null),a._27(335544320,1,{contentLabel:0}),a._27(603979776,2,{_buttons:1}),a._27(603979776,3,{_icons:1}),a._11(5,16384,null,0,I.a,[],null,null),(n()(),a._12(6,0,null,2,1,"span",[["translate","deactivate"]],null,null,null,null,null)),a._11(7,8536064,null,0,u.e,[u.j,a.k,a.h],{translate:[0,"translate"]},null)],function(n,t){n(t,7,0,"deactivate")},function(n,t){n(t,0,0,t.component.saving)})}function J(n){return a._31(0,[(n()(),a._12(0,0,null,null,7,"button",[["class","item item-block"],["ion-item",""],["popover-item",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var a=!0,r=n.component;"click"===t&&(a=!1!==r.activate(r.user)&&a);return a},M.b,M.a)),a._11(1,1097728,null,3,C.a,[T.a,j.a,a.k,a.B,[2,D.a]],null,null),a._27(335544320,4,{contentLabel:0}),a._27(603979776,5,{_buttons:1}),a._27(603979776,6,{_icons:1}),a._11(5,16384,null,0,I.a,[],null,null),(n()(),a._12(6,0,null,2,1,"span",[["translate","activate"]],null,null,null,null,null)),a._11(7,8536064,null,0,u.e,[u.j,a.k,a.h],{translate:[0,"translate"]},null)],function(n,t){n(t,7,0,"activate")},function(n,t){n(t,0,0,t.component.saving)})}function N(n){return a._31(0,[(n()(),a._4(16777216,null,null,1,null,H)),a._11(1,16384,null,0,U.k,[a.M,a.J],{ngIf:[0,"ngIf"]},null),(n()(),a._4(16777216,null,null,1,null,J)),a._11(3,16384,null,0,U.k,[a.M,a.J],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,!e.user.deleted),n(t,3,0,e.user.deleted)},null)}function O(n){return a._31(0,[(n()(),a._12(0,0,null,null,1,"user-options",[],null,null,null,N,E)),a._11(1,49152,null,0,p,[P.a,R.a,a.w,a.h,s.a,u.j,o.a,h.a],null,null)],null,null)}var B=a._8("user-options",p,O,{},{},[]),L=e(15),z=e(177),F=e(191),G=e(116),Z=e(179),q=e(117),K=e(115),Q=e(176),V=e(192),W=e(193),X=e(194),Y=e(83),$=e(180),nn=e(178),tn=e(190),en=e(56);e.d(t,"UserOptionsMenuModuleNgFactory",function(){return an});var an=a._9(d,[],function(n){return a._19([a._20(512,a.j,a.Z,[[8,[v.a,b.a,k.a,m.a,g.a,y.a,w.a,A.a,S.a,x.c,B]],[3,a.j],a.u]),a._20(4608,U.m,U.l,[a.t,[2,U.w]]),a._20(4608,L.r,L.r,[]),a._20(4608,L.e,L.e,[]),a._20(4608,z.e,z.e,[]),a._20(4608,F.b,F.b,[]),a._20(1073742336,U.b,U.b,[]),a._20(1073742336,L.p,L.p,[]),a._20(1073742336,L.f,L.f,[]),a._20(1073742336,L.n,L.n,[]),a._20(1073742336,G.a,G.a,[]),a._20(1073742336,G.b,G.b,[]),a._20(1073742336,Z.b,Z.b,[]),a._20(1073742336,u.h,u.h,[]),a._20(1073742336,q.a,q.a,[]),a._20(1073742336,K.c,K.c,[]),a._20(1073742336,K.b,K.b,[]),a._20(1073742336,Q.a,Q.a,[]),a._20(1073742336,z.a,z.a,[]),a._20(1073742336,V.a,V.a,[]),a._20(1073742336,W.a,W.a,[]),a._20(1073742336,X.a,X.a,[]),a._20(1073742336,r.a,r.a,[]),a._20(1073742336,Y.c,Y.c,[]),a._20(1073742336,i.a,i.a,[]),a._20(1073742336,$.b,$.b,[]),a._20(1073742336,nn.a,nn.a,[]),a._20(1073742336,tn.a,tn.a,[]),a._20(1073742336,F.a,F.a,[]),a._20(1073742336,l.a,l.a,[]),a._20(1073742336,d,d,[]),a._20(256,en.a,p,[])])})}});